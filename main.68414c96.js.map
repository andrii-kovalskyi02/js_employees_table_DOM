{"version":3,"sources":["scripts/main.js"],"names":["thIndex","activeEl","thead","document","querySelector","tbody","convertToNum","str","includes","slice","replace","counter","addEventListener","e","trList","children","headIndex","target","cellIndex","reverse","sort","a","b","curr","textContent","next","localeCompare","append","classList","remove","parentNode","add","form","createElement","className","innerHTML","body","pushNotification","title","description","type","notification","h2","p","setAttribute","innerText","setTimeout","preventDefault","contains","formData","FormData","formValues","Object","fromEntries","entries","name","length","ageCheck","age","position","salary","tr","office","Number","toLocaleString","reset","origText","input","style","width","focus","value","ev","key","blur"],"mappings":"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","file":"main.68414c96.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst thead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\n\nconst convertToNum = str => str.includes('$')\n  ? +(str.slice(1).replace(',', ''))\n  : str;\n\nlet counter = 0;\nlet thIndex;\n\nthead.addEventListener('click', e => {\n  const trList = [...tbody.children];\n  const headIndex = e.target.cellIndex;\n\n  if (!(counter % 2) || headIndex !== thIndex) {\n    thIndex = headIndex;\n    counter++;\n\n    trList.sort((a, b) => {\n      const curr = a.children[headIndex].textContent;\n      const next = b.children[headIndex].textContent;\n\n      if (headIndex === 0 || headIndex === 1 || headIndex === 2) {\n        return curr.localeCompare(next);\n      }\n\n      return convertToNum(curr) - convertToNum(next);\n    });\n  } else {\n    trList.reverse();\n  }\n\n  tbody.append(...trList);\n});\n\nlet activeEl;\n\ntbody.addEventListener('click', e => {\n  if (activeEl) {\n    activeEl.classList.remove('active');\n  }\n\n  activeEl = e.target.parentNode;\n  activeEl.classList.add('active');\n});\n\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\n\nform.innerHTML = `\n  <label>Name: <input id=\"input\" name=\"name\" type=\"text\" data-qa=\"name\"></label>\n  <label>Position:\n    <input name=\"position\" type=\"text\" data-qa=\"position\">\n  </label>\n\n  <label>Office:\n    <select name=\"office\" data-qa=\"office\">\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    </select>\n  </label>\n\n  <label>Age: <input name=\"age\" type=\"number\" data-qa=\"age\"></label>\n  <label>Salary: <input name=\"salary\" type=\"number\" data-qa=\"salary\">\n  </label>\n\n  <button type=\"submit\">Save to table</button>\n`;\n\ndocument.body.append(form);\n\nconst pushNotification = (title, description, type) => {\n  const notification = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  notification.classList.add('notification', type);\n  notification.setAttribute('data-qa', 'notification');\n\n  h2.className = 'title';\n  h2.innerText = title;\n\n  p.innerText = description;\n\n  notification.append(h2, p);\n\n  document.body.append(notification);\n\n  setTimeout(() => {\n    notification.remove();\n  }, 2000);\n};\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const notification = document.querySelector('.notification');\n\n  if (document.contains(notification)) {\n    notification.remove();\n  };\n\n  const formData = new FormData(e.target);\n  const formValues = Object.fromEntries(formData.entries());\n\n  if (formValues.name.length < 4) {\n    pushNotification('Error', 'Name should contain more than 3 letters',\n      'error');\n\n    return;\n  }\n\n  const ageCheck = +(formValues.age) < 18 || +(formValues.age) > 90;\n\n  if (ageCheck) {\n    pushNotification('Error', 'Age must be between 18 and 90', 'error');\n\n    return;\n  }\n\n  if (!formValues.position || !formValues.salary) {\n    pushNotification('Error', 'All fields are required', 'error');\n\n    return;\n  }\n\n  const tr = document.createElement('tr');\n\n  tr.innerHTML = `\n    <td>${formValues.name}</td>\n    <td>${formValues.position}</td>\n    <td>${formValues.office}</td>\n    <td>${formValues.age}</td>\n    <td>$${Number(formValues.salary).toLocaleString()}</td>\n  `;\n\n  tbody.append(tr);\n  form.reset();\n\n  pushNotification('Success', 'New employee was added', 'success');\n});\n\ntbody.addEventListener('dblclick', e => {\n  const cellIndex = e.target.cellIndex;\n  const origText = e.target.textContent;\n  let input = document.createElement('input');\n\n  input.className = 'cell-input';\n  e.target.textContent = '';\n\n  if (cellIndex === 2) {\n    input = document.createElement('select');\n    input.className = 'cell-input';\n\n    input.innerHTML = `\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n    `;\n  }\n\n  if (cellIndex === 3) {\n    input.type = 'number';\n    input.style.width = '50px';\n  }\n\n  if (cellIndex === 4) {\n    input.type = 'number';\n    input.style.width = '80px';\n  }\n\n  e.target.append(input);\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    switch (cellIndex) {\n      case 0:\n        if (input.value.length < 4) {\n          pushNotification('Error', 'Name should contain more than 3 letters',\n            'error');\n          e.target.textContent = origText;\n\n          return;\n        }\n\n        e.target.textContent = input.value;\n        break;\n\n      case 1:\n        if (!input.value) {\n          pushNotification('Error', 'All fields are required',\n            'error');\n          e.target.textContent = origText;\n\n          return;\n        }\n\n        e.target.textContent = input.value;\n        break;\n\n      case 2:\n        if (!input.value) {\n          pushNotification('Error', 'Field is required',\n            'error');\n          e.target.textContent = origText;\n\n          return;\n        }\n\n        e.target.textContent = input.value;\n        break;\n\n      case 3:\n        if (+(input.value) < 18 || +(input.value) > 90) {\n          pushNotification('Error', 'Age must be between 18 and 90', 'error');\n          e.target.textContent = origText;\n\n          return;\n        }\n\n        e.target.textContent = input.value;\n        break;\n\n      case 4:\n        if (!input.value) {\n          pushNotification('Error', 'Field is required',\n            'error');\n          e.target.textContent = origText;\n\n          return;\n        }\n\n        e.target.textContent = '$' + Number(input.value).toLocaleString();\n        break;\n\n      default:\n        pushNotification('Error', 'Unexpected error...', 'error');\n    }\n\n    input.remove();\n  });\n\n  input.addEventListener('keydown', ev => {\n    if (ev.key === 'Enter') {\n      input.blur();\n    }\n  });\n});\n"]}